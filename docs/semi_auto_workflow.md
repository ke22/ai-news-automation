# 半自動 AI 新聞處理流程

## 概述

半自動流程實現了您需要的兩段式工作流：
**AI挑選新聞 → 人工挑選與調整 → AI產出摘要分析與格式**

## 工作流程

### 第一階段：AI 初步評分與分類

1. **載入原始新聞**：從 RSS、Hacker News 等來源收集的新聞
2. **AI 評分與分類**：使用 Gemini AI 對每篇新聞進行：
   - 分類（模型發布/AI開發工具/企業應用/重大融資/研究突破）
   - 一句重點（≤30字）
   - 關鍵數據（最多3個「指標:數值」）
   - 四項評分（技術/影響/實戰/時效，0-5分）
   - 總分計算（加權求和）
   - 時效性（距今幾小時）
   - 去重標識（ClusterID）

3. **生成候選看板**：顯示評分結果，供人工選擇

### 第二階段：人工選擇與 AI 最終分析

1. **人工選擇**：從候選清單中選擇 5-10 則新聞
2. **AI 最終分析**：根據選中的新聞生成三種格式：
   - **格式A：社群傳播版**（繁體中文）
   - **格式B：APA 7 引用格式**
   - **格式C：視覺設計版**

## 使用方法

### 基本使用

```bash
# 1. 收集新聞
python run.py collect

# 2. 執行半自動處理
python run.py semi-auto
```

### 詳細流程

1. **收集階段**：
   ```bash
   python run.py collect
   ```
   - 從 RSS 源收集新聞
   - 從 Hacker News 收集相關新聞
   - 儲存到 `data/YYYY/MM/DD/raw_news.json`

2. **半自動處理階段**：
   ```bash
   python run.py semi-auto
   ```
   - AI 對前 20 篇新聞進行評分
   - 顯示候選看板
   - 等待人工選擇（目前預設選擇 1,3,5,7,9）
   - AI 生成最終格式

## 輸出格式

### 格式A：社群傳播版（繁體中文）

```
🏷️【分類】新聞標題
💡一句話重點（≤20字）
摘要（120–150字）：核心事實 + 2–3關鍵訊息 + 影響範圍

關鍵洞察：
* 技術突破：X
* 實務影響：X
* 行動建議：X

創新實踐者反思：
→ 跨界連結：X
→ 實踐路徑：X
→ 核心啟發：X

---

📊 最後總結
【今日三大趨勢】：列3點（每點≤20字）
【金句洞察】：1句
【立即行動】：角色＋時間＋具體行動＋量化效果
```

### 格式B：APA 7 引用格式

```
Author. (Year, Month Day). Title. Publisher/Source. URL
```

### 格式C：視覺設計版

```
[類別]
[精煉重點10–15字]
```

## 評分系統

### 四項評分標準

1. **技術突破**（30%）：技術創新程度
2. **產業影響**（25%）：對產業的影響力
3. **實戰價值**（25%）：實際應用價值
4. **時效性**（20%）：新聞的新鮮度

### 總分計算

```
總分 = 技術突破×0.3 + 產業影響×0.25 + 實戰價值×0.25 + 時效性×0.2
```

## 檔案結構

```
content/YYYY/MM/DD/
├── format_a_social_tw.md    # 社群傳播版（繁體中文）
├── format_b_apa_tw.md       # APA 引用格式
├── format_c_design_tw.txt   # 視覺設計版
└── selected_items.json      # 選中的新聞資料
```

## 未來改進

### 互動式選擇

目前人工選擇是預設的，未來可以實現：
- 互動式命令行選擇
- Web 介面選擇
- 支援複雜的過濾指令

### 指令支援

計劃支援的指令：
- `#選擇 1 3 5 7 9`：選擇指定編號
- `#重搜 關鍵詞A,關鍵詞B`：重新搜尋
- `#過濾 類別=研究突破`：按條件過濾
- `#補證據 4`：補充特定新聞證據

### 自動化整合

- **Figma 自動套用**：格式C 自動套用到 Figma
- **Confluence 自動儲存**：格式A 自動儲存到 Confluence
- **資料庫記錄**：記錄選擇 pattern 供分析

## 與全自動流程的差異

| 特性 | 全自動流程 | 半自動流程 |
|------|------------|------------|
| 人工介入 | ❌ 無 | ✅ 有 |
| 輸出語言 | 簡體中文 | 繁體中文 |
| 評分細緻度 | 基礎評分 | 詳細四項評分 |
| 格式豐富度 | 基礎格式 | 專業格式 |
| 適用場景 | 快速產出 | 高品質內容 |

## 使用建議

1. **日常使用**：使用全自動流程快速產出
2. **重要內容**：使用半自動流程確保品質
3. **專業報告**：使用半自動流程 + 人工調整
4. **教學研究**：使用半自動流程分析選擇 pattern
